(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1673:function(e,a,n){Promise.resolve().then(n.t.bind(n,6777,23)),Promise.resolve().then(n.bind(n,5421)),Promise.resolve().then(n.t.bind(n,2972,23)),Promise.resolve().then(n.bind(n,1523)),Promise.resolve().then(n.bind(n,49))},5421:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return c}});var t=n(7437),i=n(2265),r=n(7748),o=n.n(r);function l(e){return e}function u(e,a){var n=a.id,t=a.bbox,i=null==a.properties?{}:a.properties,r=function(e,a){var n=function(e){if(null==e)return l;var a,n,t=e.scale[0],i=e.scale[1],r=e.translate[0],o=e.translate[1];return function(e,l){l||(a=n=0);var u=2,s=e.length,c=Array(s);for(c[0]=(a+=e[0])*t+r,c[1]=(n+=e[1])*i+o;u<s;)c[u]=e[u],++u;return c}}(e.transform),t=e.arcs;function i(e){return n(e)}function r(e){for(var a=[],i=0,r=e.length;i<r;++i)!function(e,a){a.length&&a.pop();for(var i=t[e<0?~e:e],r=0,o=i.length;r<o;++r)a.push(n(i[r],r));e<0&&function(e,a){for(var n,t=e.length,i=t-a;i<--t;)n=e[i],e[i++]=e[t],e[t]=n}(a,o)}(e[i],a);return a.length<2&&a.push(a[0]),a}function o(e){for(var a=r(e);a.length<4;)a.push(a[0]);return a}function u(e){return e.map(o)}return function e(a){var n,t=a.type;switch(t){case"GeometryCollection":return{type:t,geometries:a.geometries.map(e)};case"Point":n=i(a.coordinates);break;case"MultiPoint":n=a.coordinates.map(i);break;case"LineString":n=r(a.arcs);break;case"MultiLineString":n=a.arcs.map(r);break;case"Polygon":n=u(a.arcs);break;case"MultiPolygon":n=a.arcs.map(u);break;default:return null}return{type:t,coordinates:n}}(a)}(e,a);return null==n&&null==t?{type:"Feature",properties:i,geometry:r}:null==t?{type:"Feature",id:n,properties:i,geometry:r}:{type:"Feature",id:n,bbox:t,properties:i,geometry:r}}n(1322);let s={Albania:"AL",Andorra:"AD",Armenia:"AM",Austria:"AT",Azerbaijan:"AZ",Belarus:"BY",Belgium:"BE",Bosnia:"BA","Bosnia and Herzegovina":"BA",Bulgaria:"BG",Croatia:"HR",Cyprus:"CY","Czech Republic":"CZ",Czechia:"CZ",Denmark:"DK",Estonia:"EE",Finland:"FI",France:"FR",Georgia:"GE",Germany:"DE",Greece:"GR",Hungary:"HU",Iceland:"IS",Ireland:"IE",Italy:"IT",Kazakhstan:"KZ",Kosovo:"XK",Latvia:"LV",Liechtenstein:"LI",Lithuania:"LT",Luxembourg:"LU",Malta:"MT",Moldova:"MD",Monaco:"MC",Montenegro:"ME",Netherlands:"NL","North Macedonia":"MK",Macedonia:"MK",Norway:"NO",Poland:"PL",Portugal:"PT",Romania:"RO",Russia:"RU","San Marino":"SM",Serbia:"RS",Slovakia:"SK",Slovenia:"SI",Spain:"ES",Sweden:"SE",Switzerland:"CH",Turkey:"TR",Türkiye:"TR",Ukraine:"UA","United Kingdom":"GB",UK:"GB",England:"GB",Scotland:"GB",Wales:"GB","Northern Ireland":"GB","Vatican City":"VA","Holy See":"VA",Canada:"CA",Mexico:"MX","United States":"US","United States of America":"US",USA:"US","Antigua and Barbuda":"AG",Bahamas:"BS",Barbados:"BB",Belize:"BZ",Cuba:"CU",Dominica:"DM","Dominican Republic":"DO",Grenada:"GD",Guatemala:"GT",Haiti:"HT",Honduras:"HN",Jamaica:"JM",Nicaragua:"NI",Panama:"PA","Saint Kitts and Nevis":"KN","Saint Lucia":"LC","Saint Vincent and the Grenadines":"VC","Trinidad and Tobago":"TT",Argentina:"AR",Bolivia:"BO",Brazil:"BR",Chile:"CL",Colombia:"CO",Ecuador:"EC",Guyana:"GY",Paraguay:"PY",Peru:"PE",Suriname:"SR",Uruguay:"UY",Venezuela:"VE",Algeria:"DZ",Angola:"AO",Benin:"BJ",Botswana:"BW","Burkina Faso":"BF",Burundi:"BI","Cabo Verde":"CV","Cape Verde":"CV",Cameroon:"CM","Central African Republic":"CF",Chad:"TD",Comoros:"KM",Congo:"CG","Republic of the Congo":"CG","Democratic Republic of the Congo":"CD",DRC:"CD","Cote d'Ivoire":"CI","C\xf4te d’Ivoire":"CI","Ivory Coast":"CI",Djibouti:"DJ",Egypt:"EG","Equatorial Guinea":"GQ",Eritrea:"ER",Eswatini:"SZ",Swaziland:"SZ",Ethiopia:"ET",Gabon:"GA",Gambia:"GM",Ghana:"GH",Guinea:"GN","Guinea-Bissau":"GW",Kenya:"KE",Lesotho:"LS",Liberia:"LR",Libya:"LY",Madagascar:"MG",Malawi:"MW",Mali:"ML",Mauritania:"MR",Mauritius:"MU",Morocco:"MA",Mozambique:"MZ",Namibia:"NA",Niger:"NE",Nigeria:"NG",Rwanda:"RW","Sao Tome and Principe":"ST","S\xe3o Tom\xe9 and Pr\xedncipe":"ST",Senegal:"SN",Seychelles:"SC","Sierra Leone":"SL",Somalia:"SO","South Africa":"ZA","South Sudan":"SS",Sudan:"SD",Tanzania:"TZ",Togo:"TG",Tunisia:"TN",Uganda:"UG",Zambia:"ZM",Zimbabwe:"ZW",Afghanistan:"AF",Bahrain:"BH",Bangladesh:"BD",Bhutan:"BT",Brunei:"BN",Cambodia:"KH",China:"CN","Hong Kong":"HK",Macao:"MO",Macau:"MO",Taiwan:"TW","Taiwan, Province of China":"TW",India:"IN",Indonesia:"ID",Iran:"IR","Iran, Islamic Republic of":"IR",Iraq:"IQ",Israel:"IL",Japan:"JP",Jordan:"JO",Kuwait:"KW",Kyrgyzstan:"KG",Lao:"LA",Laos:"LA","Lao People's Democratic Republic":"LA",Lebanon:"LB",Malaysia:"MY",Maldives:"MV",Mongolia:"MN",Myanmar:"MM",Burma:"MM",Nepal:"NP","North Korea":"KP","Korea, Democratic People's Republic of":"KP","South Korea":"KR","Korea, Republic of":"KR",Oman:"OM",Pakistan:"PK",Palestine:"PS","State of Palestine":"PS",Philippines:"PH",Qatar:"QA","Saudi Arabia":"SA",Singapore:"SG","Sri Lanka":"LK",Syria:"SY","Syrian Arab Republic":"SY",Tajikistan:"TJ",Thailand:"TH","Timor-Leste":"TL","East Timor":"TL",Turkmenistan:"TM","United Arab Emirates":"AE",Uzbekistan:"UZ",Vietnam:"VN",Yemen:"YE",Australia:"AU",Fiji:"FJ",Kiribati:"KI","Marshall Islands":"MH",Micronesia:"FM","Federated States of Micronesia":"FM",Nauru:"NR","New Zealand":"NZ",Palau:"PW","Papua New Guinea":"PG",Samoa:"WS","Solomon Islands":"SB",Tonga:"TO",Tuvalu:"TV",Vanuatu:"VU","Russian Federation":"RU","Moldova, Republic of":"MD","Bolivia (Plurinational State of)":"BO","Venezuela (Bolivarian Republic of)":"VE","Tanzania, United Republic of":"TZ","United Kingdom of Great Britain and Northern Ireland":"GB","United States Minor Outlying Islands":"UM","Congo, Democratic Republic of the":"CD","Congo, Republic of the":"CG","Korea (Democratic People's Republic of)":"KP","Korea (Republic of)":"KR","Micronesia (Federated States of)":"FM","The Gambia":"GM"};function c(){let{summary:e=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(0,i.useRef)(null),n=(0,i.useRef)(null),r=(0,i.useRef)(null),[l,c]=(0,i.useState)(null),d=(0,i.useMemo)(()=>{let a=new globalThis.Map;if(!e)return a;for(let n of Object.values(e.countries))null!=n.latestSupport&&a.set(n.iso2,n.latestSupport);return a},[e]);return(0,i.useEffect)(()=>{let e=n.current;if(!e)return;let a=e.getSource("countries");if(!a||!r.current)return;let t=r.current.features.map(e=>{var a;let n=s[null===(a=e.properties)||void 0===a?void 0:a.name],t=n?d.get(n):void 0;return{...e,properties:{...e.properties,iso2:n||null,support:t}}});a.setData({type:"FeatureCollection",features:t})},[d]),(0,i.useEffect)(()=>{if(!a.current||n.current)return;let t=new(o()).Map({container:a.current,style:"https://basemaps.cartocdn.com/gl/positron-gl-style/style.json",center:[12,50],zoom:3.5});return t.addControl(new(o()).NavigationControl({})),t.on("load",()=>{fetch("https://unpkg.com/world-atlas@2.0.2/countries-50m.json").then(e=>e.json()).then(a=>{var n;let i=("string"==typeof(n=a.objects.countries)&&(n=a.objects[n]),"GeometryCollection"===n.type?{type:"FeatureCollection",features:n.geometries.map(function(e){return u(a,e)})}:u(a,n));r.current=i,t.addSource("countries",{type:"geojson",data:i}),t.addLayer({id:"countries-fill",type:"fill",source:"countries",paint:{"fill-color":["interpolate",["linear"],["coalesce",["get","support"],0],0,"#fee5e5",10,"#fcb3b3",20,"#f88484",30,"#f15555",40,"#e12d2d",50,"#b90000"],"fill-opacity":.8}}),t.addLayer({id:"countries-outline",type:"line",source:"countries",paint:{"line-color":"#555","line-width":.5}});let l=t.getSource("countries");if(r.current&&l){let a=r.current.features.map(a=>{var n,t,i;let r=s[null===(n=a.properties)||void 0===n?void 0:n.name],o=r&&e?null===(i=e.countries)||void 0===i?void 0:null===(t=i[r])||void 0===t?void 0:t.latestSupport:void 0;return{...a,properties:{...a.properties,iso2:r||null,support:o}}});l.setData({type:"FeatureCollection",features:a})}let d=new(o()).Popup({closeButton:!1,closeOnClick:!1});t.on("mousemove","countries-fill",a=>{var n,i,r;let o=null===(n=a.features)||void 0===n?void 0:n[0],l=null==o?void 0:null===(i=o.properties)||void 0===i?void 0:i.iso2,u=null==o?void 0:null===(r=o.properties)||void 0===r?void 0:r.name,s="<strong>".concat(u||"","</strong>");if(l&&e&&e.countries[l]){let a=e.countries[l],n=a.parties.slice(0,6).join(", "),t=null!=a.latestSupport?"".concat(a.latestSupport.toFixed(1),"%"):"N/A";s+="<br/>Parties: ".concat(n,"<br/>Support: ").concat(t)}d.setLngLat(a.lngLat).setHTML(s).addTo(t),c(s)}),t.on("mouseleave","countries-fill",()=>{d.remove(),c(null)}),t.on("click","countries-fill",e=>{var a,n;let t=null===(a=e.features)||void 0===a?void 0:a[0],i=null==t?void 0:null===(n=t.properties)||void 0===n?void 0:n.iso2;i&&(window.location.href="/country/".concat(i))})})}),n.current=t,()=>{t.remove(),n.current=null}},[e]),(0,t.jsx)("div",{ref:a,style:{width:"100%",height:"70vh",border:"1px solid #e5e7eb",borderRadius:8}})}},1523:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"BailoutToCSR",{enumerable:!0,get:function(){return i}});let t=n(8993);function i(e){let{reason:a,children:n}=e;if("undefined"==typeof window)throw new t.BailoutToCSRError(a);return n}},49:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"PreloadCss",{enumerable:!0,get:function(){return r}});let t=n(7437),i=n(544);function r(e){let{moduleIds:a}=e;if("undefined"!=typeof window)return null;let n=(0,i.getExpectedRequestStore)("next/dynamic css"),r=[];if(n.reactLoadableManifest&&a){let e=n.reactLoadableManifest;for(let n of a){if(!e[n])continue;let a=e[n].files.filter(e=>e.endsWith(".css"));r.push(...a)}}return 0===r.length?null:(0,t.jsx)(t.Fragment,{children:r.map(e=>(0,t.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:n.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},1322:function(){},6777:function(e){e.exports={main:"page_main__nw1Wk",updated:"page_updated__Ni6ne",list:"page_list__YP8g5",card:"page_card__Cf__u"}}},function(e){e.O(0,[932,250,402,972,971,117,744],function(){return e(e.s=1673)}),_N_E=e.O()}]);