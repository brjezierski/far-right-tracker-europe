(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[125],{4682:function(e,t,l){Promise.resolve().then(l.bind(l,5231)),Promise.resolve().then(l.t.bind(l,2972,23))},5231:function(e,t,l){"use strict";l.d(t,{default:function(){return s}});var r=l(7437),n=l(2265),a=l(6943);function o(e,t){if("all"===t)return e;let l=new Date,r=new Date(l);return"1y"===t&&r.setFullYear(l.getFullYear()-1),"6m"===t&&r.setMonth(l.getMonth()-6),"3m"===t&&r.setMonth(l.getMonth()-3),e.filter(e=>new Date(e.date)>=r)}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(e.length<t)return[];let l=[];for(let r=t-1;r<e.length;r++){let n=e.slice(r-t+1,r+1).reduce((e,t)=>e+t.value,0)/t;l.push([e[r].date,n])}return l}function s(e){let{seriesByParty:t}=e,[l,s]=(0,n.useState)("all"),[c,u]=(0,n.useState)(!1),d=(0,n.useMemo)(()=>{let e=[],r=["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc","#d48265"];if(c){let n=new Set,a={};Object.entries(t||{}).forEach(e=>{let[t,r]=e,s=i(o(r,l),5),c=new Map;s.forEach(e=>{let[t,l]=e;n.add(t),c.set(t,l)}),a[t]=c});let s=Array.from(n).sort();Object.entries(t||{}).forEach((t,l)=>{let[n,o]=t,i=r[l%r.length],c=a[n],u=s.filter(e=>c.has(e));if(0===u.length)return;let d=u[0],f=u[u.length-1],h=s.map((e,t)=>{let l=c.get(e);if(void 0!==l)return[e,l];if(e<d||e>f)return[e,null];let r=null,n=null,a=t-1,o=t+1;for(;a>=0&&null===r;){let e=s[a];c.has(e)&&(r=c.get(e)),a--}for(;o<s.length&&null===n;){let e=s[o];c.has(e)&&(n=c.get(e)),o++}return null!==r&&null!==n?[e,(r+n)/2]:[e,null]});e.push({name:n,type:"line",smooth:!1,showSymbol:!1,stack:"total",areaStyle:{},lineStyle:{width:0},itemStyle:{color:i},data:h})})}else Object.entries(t||{}).forEach((t,n)=>{let[a,s]=t,c=o(s,l),u=i(c,5),d=r[n%r.length];e.push({name:"".concat(a),type:"scatter",symbolSize:6,itemStyle:{color:d,opacity:.6},data:c.map(e=>[e.date,e.value]),legendHoverLink:!0,legend:{show:!1},tooltip:{show:!1}}),e.push({name:a,type:"line",smooth:!1,showSymbol:!1,lineStyle:{width:2,color:d},itemStyle:{color:d},data:u})});return{tooltip:{trigger:"axis",axisPointer:{type:"cross"},valueFormatter:e=>"".concat(Number(e).toFixed(1),"%"),formatter:e=>{if(!Array.isArray(e))return"";let t=e.filter(e=>e.value&&e.value[1]>0);if(0===t.length)return"";let l=new Date(t[0].value[0]).toLocaleDateString(),r="".concat(l,"<br/>");return t.forEach(e=>{r+="".concat(e.marker," ").concat(e.seriesName,": ").concat(Number(e.value[1]).toFixed(1),"%<br/>")}),r}},legend:{type:"scroll"},xAxis:{type:"time"},yAxis:{type:"value",axisLabel:{formatter:"{value} %"}},dataZoom:[{type:"slider"},{type:"inside"}],series:e}},[t,l,c]);return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{display:"flex",gap:8,margin:"6px 0",flexWrap:"wrap"},children:[(0,r.jsx)("div",{style:{display:"flex",gap:8},children:["3m","6m","1y","all"].map(e=>(0,r.jsx)("button",{onClick:()=>s(e),style:{padding:"4px 8px",borderRadius:4,border:"1px solid #ddd",background:e===l?"#eee":"#fff"},children:e},e))}),(0,r.jsx)("button",{onClick:()=>u(!c),style:{padding:"4px 8px",borderRadius:4,border:"1px solid #ddd",background:c?"#eee":"#fff",marginLeft:"auto"},children:c?"Stacked âœ“":"Stacked"})]}),(0,r.jsx)(a.Z,{option:d,style:{height:400},notMerge:!0},c?"stacked":"normal")]})}}},function(e){e.O(0,[286,971,117,744],function(){return e(e.s=4682)}),_N_E=e.O()}]);